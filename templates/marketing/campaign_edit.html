{% extends 'base.html' %}
{% load static %}
{% block title %}Edit Campaign - {{ campaign.name }}{% endblock %}

{% block content %}
<style>
    .edit-container {
        max-width: 900px;
        margin: 0 auto;
        padding: 2rem;
    }
    
    .page-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 2rem;
        padding-bottom: 1.5rem;
        border-bottom: 2px solid #e5e7eb;
    }
    
    .page-header h1 {
        margin: 0;
        color: #1f2937;
        font-size: 2rem;
        font-weight: 700;
    }
    
    .edit-form {
        background: white;
        border: 1px solid #e5e7eb;
        border-radius: 0.75rem;
        padding: 2rem;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }
    
    .form-group {
        margin-bottom: 1.5rem;
    }
    
    .form-group label {
        display: block;
        font-weight: 600;
        color: #374151;
        margin-bottom: 0.5rem;
        font-size: 0.95rem;
    }
    
    .form-group input,
    .form-group textarea,
    .form-group select {
        width: 100%;
        padding: 0.75rem;
        border: 2px solid #e5e7eb;
        border-radius: 0.5rem;
        font-size: 1rem;
        transition: all 0.2s;
        font-family: inherit;
    }
    
    .form-group input:focus,
    .form-group textarea:focus,
    .form-group select:focus {
        outline: none;
        border-color: #3b82f6;
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }
    
    .form-group textarea {
        resize: vertical;
        min-height: 100px;
    }
    
    .form-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 1.5rem;
    }
    
    .form-actions {
        display: flex;
        justify-content: flex-end;
        gap: 1rem;
        margin-top: 2rem;
        padding-top: 2rem;
        border-top: 2px solid #e5e7eb;
    }
    
    .btn {
        padding: 0.75rem 1.5rem;
        border-radius: 0.5rem;
        font-weight: 600;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        transition: all 0.2s;
        border: none;
        cursor: pointer;
        font-size: 0.95rem;
    }
    
    .btn-primary {
        background: #3b82f6;
        color: white;
    }
    
    .btn-primary:hover {
        background: #2563eb;
    }
    
    .btn-secondary {
        background: #6b7280;
        color: white;
    }
    
    .btn-secondary:hover {
        background: #4b5563;
    }
</style>

<div class="edit-container">
    <div class="page-header">
        <h1>Edit Campaign</h1>
        <a href="{% url 'campaign_detail' campaign.id %}" class="btn btn-secondary" style="width: 40%;">‚Üê Back to Campaign</a>
    </div>

    <form method="POST" class="edit-form">
        {% csrf_token %}
        
        <div class="form-group">
            <label for="name">Campaign Name *</label>
            <input type="text" id="name" name="name" value="{{ campaign.name }}" required>
        </div>

        <div class="form-group">
            <label for="description">Description</label>
            <textarea id="description" name="description" rows="4">{{ campaign.description }}</textarea>
        </div>

        <div class="form-grid">
            <div class="form-group">
                <label for="campaign_type">Campaign Type</label>
                <select id="campaign_type" name="campaign_type">
                    <option value="email" {% if campaign.campaign_type == 'email' %}selected{% endif %}>Email</option>
                    <option value="social" {% if campaign.campaign_type == 'social' %}selected{% endif %}>Social Media</option>
                    <option value="paid" {% if campaign.campaign_type == 'paid' %}selected{% endif %}>Paid Advertising</option>
                    <option value="partnership" {% if campaign.campaign_type == 'partnership' %}selected{% endif %}>Partnership</option>
                    <option value="integrated" {% if campaign.campaign_type == 'integrated' %}selected{% endif %}>Integrated</option>
                </select>
            </div>

            <div class="form-group">
                <label for="status">Status</label>
                <select id="status" name="status">
                    <option value="draft" {% if campaign.status == 'draft' %}selected{% endif %}>Draft</option>
                    <option value="scheduled" {% if campaign.status == 'scheduled' %}selected{% endif %}>Scheduled</option>
                    <option value="active" {% if campaign.status == 'active' %}selected{% endif %}>Active</option>
                    <option value="paused" {% if campaign.status == 'paused' %}selected{% endif %}>Paused</option>
                    <option value="completed" {% if campaign.status == 'completed' %}selected{% endif %}>Completed</option>
                    <option value="cancelled" {% if campaign.status == 'cancelled' %}selected{% endif %}>Cancelled</option>
                </select>
            </div>
        </div>

        <div class="form-grid">
            <div class="form-group">
                <label for="start_date">Start Date</label>
                <input type="date" id="start_date" name="start_date" value="{% if campaign.start_date %}{{ campaign.start_date|date:'Y-m-d' }}{% endif %}">
            </div>

            <div class="form-group">
                <label for="end_date">End Date</label>
                <input type="date" id="end_date" name="end_date" value="{% if campaign.end_date %}{{ campaign.end_date|date:'Y-m-d' }}{% endif %}">
            </div>
        </div>

        <h2 style="margin: 2rem 0 1rem 0; font-size: 1.5rem; color: #1f2937;">Goals</h2>
        <div class="form-grid">
            <div class="form-group">
                <label for="target_leads">Target Leads</label>
                <input type="number" id="target_leads" name="target_leads" min="0" value="{% if campaign.target_leads %}{{ campaign.target_leads }}{% endif %}">
            </div>
        </div>

        <div class="form-group">
            <label for="target_conversions">Target Conversions</label>
            <input type="number" id="target_conversions" name="target_conversions" min="0" value="{% if campaign.target_conversions %}{{ campaign.target_conversions }}{% endif %}">
        </div>

        <h2 style="margin: 2rem 0 1rem 0; font-size: 1.5rem; color: #1f2937;">Target Audience</h2>
        <div class="form-grid">
            <div class="form-group">
                <label for="age_range">Age Range</label>
                <input type="text" id="age_range" name="age_range" placeholder="e.g., 25-45" value="{{ campaign.age_range }}">
            </div>

            <div class="form-group">
                <label for="location">Location</label>
                <input type="text" id="location" name="location" placeholder="e.g., North America" value="{{ campaign.location }}">
            </div>
        </div>

        <div class="form-grid">
            <div class="form-group">
                <label for="industry">Industry</label>
                <input type="text" id="industry" name="industry" placeholder="e.g., Technology" value="{{ campaign.industry }}">
            </div>

            <div class="form-group">
                <label for="company_size">Company Size</label>
                <input type="text" id="company_size" name="company_size" placeholder="e.g., 1-50 employees" value="{{ campaign.company_size }}">
            </div>
        </div>

        <div class="form-grid">
            <div class="form-group">
                <label for="interests">Interests</label>
                <input type="text" id="interests" name="interests" placeholder="e.g., technology, business" value="{{ campaign.interests }}">
            </div>

            <div class="form-group">
                <label for="language">Language</label>
                <input type="text" id="language" name="language" placeholder="e.g., English" value="{{ campaign.language }}">
            </div>
        </div>

        <div class="form-actions">
            <a href="{% url 'campaign_detail' campaign.id %}" class="btn btn-secondary">Cancel</a>
            <button type="submit" class="btn btn-primary">Save Changes</button>
        </div>
    </form>
</div>
{% endblock %}

